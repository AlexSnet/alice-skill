Это репозиторий с базовой реализацией навыка для Алисы в рамках конкурса Яндекса на PyCon Russia 2018.

Чтобы участвовать в конкурсе нужно реализовать алгоритм игры в морской бой и задеплить навык на хостинге Now. Подробнее написано в твоём тикет в Яндекс.Трекере.

Просто форкни этот репозиторий и допиши в него нужный код.

Следи за обновлениями в этом репозитории. Пока идет конкурс, мы может быть будем что-то судя добавлять, и это будет тебе полезно.

### Что в этом репозитории
Этот код – это полноценная реализация навыка для Алисы. Мы взяли за основу хорошую библиотеку [rasa_nlu](https://github.com/RasaHQ/rasa_nlu). Для неё мы подобрали data set, на основе которого собирается модель для распознования ходов соперника. Мы также сделали небольшое Flask приложение, которое разбирает HTTP протокол запросов от Яндекс.Диалогов, и Telegram бота для отладки.

**Мы очень не рекомендуем существенно что-то менять за пределами оговоренных ниже методов в `seabattle/game.py`.**

Мы проработали и отладили все нужные реплики, которые говорит и обрабатывает навык для игры. Если их поменять, то может не получится игра на турнире.

### Наш морской бой
* Игровое поле 10x10
* Стандарные 10 кораблей:
    - 1 четырехпалубный
    - 2 трехпалубных
    - 3 двухпалубных
    - 4 однопалубных
* **Координаты используются только числовые.** Из-за особенностей ASR так получается надежнее и проще.

### Быстрый старт
Для работы с этим репозиторием тебе нужно только иметь Docker и docker-compose. Ну и уметь пользоваться ими хотябы чуть-чуть.

### Задача
Тебе нужно реализовать по сути один метод в модуле `seabattle/game.py` который называет `do_shot`.

Опционально можешь попробоват сгенерировать игрое поле более хитро, для этого тебе нужно написать другую реализацию для метода `generate_field`

### Тренировка модели
Для того чтобы навык работал, нужно натренировать nlu молдель rasa. Это делается вызовом команды: `docker-compose run train`

### Тестирование
Чтобы протестировать твой скилл нужно сделать несколько шагов:
- Прогнать тесты, запустив `docker-compose run tests`. Ты можешь написать дополнительные тесты именно своего алгоритма. И лучше так сделать. Если тесты проходят, то это хороший знак – скорее всего ты ничего не поломал, и твоя реализация вполне может играть турнире.
- Поднять Telegram бота. Для этого нужно зарегистривать бота и получить его токен. Потом положиить токен в переменную окружения `TELEGRAM_TOKEN` и запустить `docker-compose run bot`. После этого с твоим ботом в Telegram можно поиграть в твою реализацию морского боя. Прорверь что твой алгоритм игры работает правильно.
- Задеплоить навык на хостинге [Now](https://zeit.co/now) (см. ниже) и зарегистриивать его в [Яндекс.Диалогах](https://dialogs.yandex.ru/). **Не нужно отправлять навык на модерацию.** Просто в режиме тестирования ещё раз попробуй поиграть со своей реализаций.

Если ты прошел эти три пункта и всё хорошо, то можешь присылвать ссылки на код и на задеплоиный новык в свой тикет и закрывать его.

### Деплой
Для простоты и удобства навык нужно задеплоить на хостинг [Now](https://zeit.co/now). После деплоям лучше всего присвоить какой-нибудь алиас домену, и использовать его дальше при обновлениях.

Лучше всего сделать файлик [now.json](https://zeit.co/docs/features/configuration#now.json) и в нем написать имя приложения и его алиас, тогда для деплоя будет достаточно позвать команду `now && now alias`.

### Поддержка
Если что-то непонятно, то задавай нам вопросы в [Slack](https://join.slack.com/t/pycon2018-ya-contest/shared_invite/enQtNDAxNDA2MDE1NjcwLTE3Yzg4YzUyM2Y0Zjc3ZjA5YzhmNDAyZDc4MGQ5YTNmZTc0N2RkZjFlMWFiMzZjNjIzNGIxOGFlZDVlMzgyYWQ)


![Logo](https://yastatic.net/s3/lpc/c84b1334-04c0-4e7e-a96c-d17e9dc7a157.svg)
